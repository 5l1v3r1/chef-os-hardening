# /etc/modules: kernel modules to load at boot time.
#
# This file contains the names of kernel modules that should be loaded
# at boot time, one per line. Lines beginning with "#" are ignored.

# via: find /lib/modules/$(uname -r)/kernel/

loop
lp
rtc
ext2
btrfs


# arch
<% if @x86_64 == true %>
twofish-x86_64-3way
twofish-x86_64
aes-x86_64
salsa20-x86_64
blowfish-x86_64
<% end %>
<% if @cpuVendor == "intel" %>
ghash-clmulni-intel
aesni-intel
kvm-intel
<% end %>
<% if @cpuVendor == "amd" %>
kvm-amd
<% end %>
kvm


# crypto
blowfish_common
blowfish_generic
ctr
cts
lrw
lzo
rmd160
rmd256
rmd320
serpent
sha512_generic
twofish_common
twofish_generic
xts
zlib

# drivers
<% if @desktop == true %>
psmouse
<% end %>

# lib
xz


# net
# for netfilter (ie iptables):
ipt_LOG
ipt_REJECT
xt_connlimit
xt_tcpudp
nf_conntrack_ipv4
nf_defrag_ipv4
xt_state
nf_conntrack
iptable_filter
ip_tables
x_tables
